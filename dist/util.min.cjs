"use strict";var w=Object.defineProperty;var R=Object.getOwnPropertyDescriptor;var b=Object.getOwnPropertyNames;var I=Object.prototype.hasOwnProperty;var P=(e,t)=>{for(var n in t)w(e,n,{get:t[n],enumerable:!0})},V=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of b(t))!I.call(e,o)&&o!==n&&w(e,o,{get:()=>t[o],enumerable:!(r=R(t,o))||r.enumerable});return e};var z=e=>V(w({},"__esModule",{value:!0}),e);var $e={};P($e,{array:()=>fe,bezier:()=>F,cases:()=>pe,choose:()=>ge,compare:()=>q,contain:()=>ye,copy:()=>N,cover:()=>Ae,fromBase64:()=>re,group:()=>de,id:()=>ee,isArray:()=>s,isBoolean:()=>C,isBooleanArray:()=>L,isEmpty:()=>W,isEmptyArray:()=>Q,isEmptyObject:()=>H,isEmptyString:()=>k,isFunction:()=>S,isNull:()=>O,isNumber:()=>m,isNumberArray:()=>U,isNumeric:()=>_,isObject:()=>d,isObjectArray:()=>D,isSameType:()=>K,isString:()=>A,isStringArray:()=>Z,max:()=>oe,mean:()=>ce,min:()=>le,mode:()=>ae,parseCommand:()=>ie,parseQueryString:()=>ue,parseTemplate:()=>M,promiseAll:()=>Oe,query:()=>xe,random:()=>v,shuffle:()=>he,sort:()=>se,splitFloat:()=>G,splitInt:()=>Y,toBase64:()=>ne,toFullWidth:()=>X,toHalfWidth:()=>J,wait:()=>me,xor:()=>te});module.exports=z($e);var p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",B=0;function C(e){return typeof e=="boolean"}function m(e){return typeof e=="number"&&!Number.isNaN(e)&&Number.isFinite(e)}function _(e){return A(e)?!Number.isNaN(parseFloat(e))&&Number.isFinite(parseFloat(e)):m(e)}function A(e){return typeof e=="string"}function k(e){return A(e)&&e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")===""}function d(e){return typeof e=="object"&&e!==null&&e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function H(e){return d(e)&&Object.keys(e).length===0}function O(e){return typeof e=="object"&&e===null}function s(e){return Array&&Array.isArray?Array.isArray(e):Object.prototype.toString.call(e)==="[object Array]"}function L(e){if(!s(e))return!1;for(let t of e)if(!C(t))return!1;return!0}function U(e){if(!s(e))return!1;for(let t of e)if(!m(t))return!1;return!0}function Z(e){if(!s(e))return!1;for(let t of e)if(!A(t))return!1;return!0}function D(e){if(!s(e))return!1;for(let t of e)if(!d(t))return!1;return!0}function Q(e){return s(e)&&e.length===0}function S(e){return typeof e=="function"}function W(e){return e===void 0||O(e)}function j(e){return e===void 0}function K(e,t){return typeof e==typeof t&&e.constructor===t.constructor}function v(e,t){return Math.random()*(t-e)+e}function F(e,t){if(e.length===1)return e[0];let n=[];for(let r=0;r<e.length-1;r++){let o=(1-t)*e[r].x+t*e[r+1].x,f=(1-t)*e[r].y+t*e[r+1].y;n.push({x:o,y:f})}return F(n,t)}function Y(e){return e.split(/([0-9]+)/)}function G(e){return e.split(/([0-9]+\.[0-9]+)+/)}function J(e){return e.replace(/[！-～]/g,function(t){return String.fromCharCode(t.charCodeAt(0)-65248)}).replace(/[^\S\r\n]/g,function(t){return" "})}function X(e){return e.replace(/[!-~]/g,function(t){return String.fromCharCode(t.charCodeAt(0)+65248)}).replace(/[^\S\r\n]/g,function(t){return"\u3000"})}function q(e,t){function n(f,u){let l=[];for(let i=0;i<f.length+1;i++){l.push([]);for(let c=0;c<u.length+1;c++)l[i][c]=0}return l}function r(f,u,l){for(let i=1;i<=u.length;i++)for(let c=1;c<=l.length;c++)u[i-1]===l[c-1]?f[i][c]=f[i-1][c-1]+1:f[i][c]=Math.max(f[i-1][c],f[i][c-1]);return f}function o(f,u,l){let i=0,c=1,E=-1,x=[],T=0,h=u.length,g=l.length;for(;h>0||g>0;){let a=x[x.length-1],y=u[h-1],$=l[g-1];h>0&&g>0&&y===$?(a&&a.type===i?a.value=y+a.value:x.push({type:i,value:y}),T++,h--,g--):g>0&&(h===0||f[h][g-1]>=f[h-1][g])?(a&&a.type===c?a.value=$+a.value:x.push({type:c,value:$}),g--):h>0&&(g===0||f[h][g-1]<f[h-1][g])&&(a&&a.type===E?a.value=y+a.value:x.push({type:E,value:y}),h--)}return{acc:T*2/(u.length+l.length),result:x.reverse()}}return o(r(n(e,t),e,t),e,t)}function ee(){return Math.floor(new Date().getTime()/1e3).toString(16)+"xxxxxx".replace(/x/g,function(e){return Math.floor(Math.random()*16).toString(16)})+(B++).toString(16).padStart(6,"0")}function te(e,t){if(t.length===0)return e;let n="",r=0;for(;t.length<e.length;)t+=t;for(;r<e.length;)n+=String.fromCharCode(e.charCodeAt(r)^t.charCodeAt(r)),r++;return n}function ne(e,t){if(e=String(e),/[^\0-\xFF]/.test(e))throw new Error("The string to be encoded contains characters outside of the Latin1 range.");let n=e.length%3,r="",o=-1,f,u,l,i,c=e.length-n;for(;++o<c;)f=e.charCodeAt(o)<<16,u=e.charCodeAt(++o)<<8,l=e.charCodeAt(++o),i=f+u+l,r+=p.charAt(i>>18&63)+p.charAt(i>>12&63)+p.charAt(i>>6&63)+p.charAt(i&63);return n==2?(f=e.charCodeAt(o)<<8,u=e.charCodeAt(++o),i=f+u,r+=p.charAt(i>>10)+p.charAt(i>>4&63)+p.charAt(i<<2&63)+"="):n==1&&(i=e.charCodeAt(o),r+=p.charAt(i>>2)+p.charAt(i<<4&63)+"=="),(t?`data:${t};base64,`:"")+r}function re(e){e=String(e).replace(/^data:([A-Za-z-+\/]+);[A-Za-z0-9]+,/,"").replace(/[\t\n\f\r ]/g,"");let t=e.length;if(t%4==0&&(e=e.replace(/==?$/,""),t=e.length),t%4==1||/[^+a-zA-Z0-9/]/.test(e))throw new Error("Invalid character: the string to be decoded is not correctly encoded.");let n=0,r,o,f="",u=-1;for(;++u<t;)o=p.indexOf(e.charAt(u)),r=n%4?r*64+o:o,n++%4&&(f+=String.fromCharCode(255&r>>(-2*n&6)));return f}function ie(e){let t=[],n=0,r=e.replace(/\\'|\\"/g,"00"),o=null,f="";for(;n<e.length;)o?r[n]===o?(t.push(f),f="",o=null):f+=e[n]:r[n]==="'"||r[n]==='"'?o=e[n]:r[n]===" "?f!==""&&(t.push(f),f=""):f+=e[n],n++;return f.trim()!==""&&t.push(f),t}function ue(e){let t=e.indexOf("?")>-1?e.split("?").pop():e,n={};for(let[r,o]of new URLSearchParams(t).entries())n[r]?n[r].push(o):n[r]=[o];return n}function M(e,t){return e.replace(/\$\{[^}]+\}/g,function(n){let r=n.substring(2,n.length-1)??"";return r.indexOf(".")>-1?M("${"+r.split(".").slice(1).join(".")+"}",t[r.split(".")[0]]):t[r]??""})}function fe(e,t){let n=new Array(e);if(S(t))for(let r=0;r<e;r++)n[r]=t(r);else if(d(t))for(let r=0;r<e;r++)n[r]=clone(t);else if(s(t))for(let r=0;r<e;r++)n[r]=clone(t);else if(typeof t<"u")for(let r=0;r<e;r++)n[r]=t;return n}function le(e){return e.reduce(function(t,n){return n<t?n:t},e[0]||0)}function oe(e){return e.reduce(function(t,n){return n>t?n:t},e[0]||0)}function ce(e){return e.reduce(function(t,n){return t+n},0)/e.length}function ae(e){let t={},n=e[0],r=1;for(let o=0;o<e.length;o++){let f=e[o];t[f]=t[f]?t[f]+1:1,t[f]>r&&(n=f,r=t[f])}return n}function se(e){let t=[j,O,C,m,A,d,s,S];return e.sort(function(n,r){let o=t.findIndex(function(u){return u(n)}),f=t.findIndex(function(u){return u(r)});return o!==f?o-f:o===0||o===1?0:o===2?n!==r?n?1:-1:0:o===3?n-r:o===4?n.localeCompare(r,void 0,{numeric:!0,sensitivity:"base"}):o===5?Object.keys(n).length-Object.keys(r).length:o===6?n.length-r.length:0})}function he(e){let t=e.length;for(;t>0;){let n=Math.floor(Math.random()*t);t--,[e[t],e[n]]=[e[n],e[t]]}return e}function ge(e){return e[Math.floor(v(0,e.length))]}function pe(e){function t(u){if(u.length<1)return;let l=[];for(let i=0;i<u.length;i++)l.push(0);return l}function n(u,l){for(let i=u.length-1;i>=0;i--){if(l[i]<u[i].length-1)return l[i]+=1,l;l[i]=0}}function r(u,l){let i=[];for(let c=0;c<u.length;c++)i.push(u[c][l[c]]);return i}let o=[],f=t(e);for(;f;){let u=r(e,f);o.push(u),f=n(e,f)}return o}function N(e){let t=s(e)?[]:{};for(let[n,r]of Object.entries(e))t[n]=d(r)&&!O(r)?N(r):r;return t}function de(e,t){let n={};for(let r of e)n[String(r[t])]?n[String(r[t])].push(r):n[String(r[t])]=[r];return n}function xe(e,t){let n={and:["$and"],notAnd:["$notAnd","$nand"],or:["$or"],notOr:["$notOr","$nor"],not:["$not"],include:["$include","$in"],exclude:["$exclude","$nin"],greaterThan:["$greaterThan","$gt"],greaterThanOrEqual:["$greaterThanOrEqual","$gte"],lessThan:["$lessThan","$lt"],lessThanOrEqual:["$lessThanOrEqual","$lte"],equal:["$equal","$eq"],notEqual:["$notEqual","$neq","$ne"],function:["$function","$func","$fn"],regexp:["$regexp","$regex","$re","$reg"]};function r(u,l){for(let[i,c]of Object.entries(l))if(!o(u,c,i.split(".")))return!1;return!0}function o(u,l,i){let c=i.shift();return i.length>0?d(u)?o(u[c],l,i):!1:f(u,l,c)}function f(u,l,i){if(n.and.indexOf(i)>-1){for(let c of l)if(!r(u,c))return!1;return!0}else{if(n.notAnd.indexOf(i)>-1)return!f(u,l,"$and");if(n.or.indexOf(i)>-1){for(let c of l)if(r(u,c))return!0;return!1}else{if(n.notOr.indexOf(i)>-1)return!f(u,l,"$or");if(n.not.indexOf(i)>-1)return!r(u,l);if(n.include.indexOf(i)>-1)if(s(u)){for(let c of u)if(!f(c,l,"$include"))return!1;return!0}else{for(let c of l)if(f(u,c,"$equal"))return!0;return!1}else{if(n.exclude.indexOf(i)>-1)return!f(u,l,"$include");if(n.greaterThan.indexOf(i)>-1)return u>l;if(n.greaterThanOrEqual.indexOf(i)>-1)return u>=l;if(n.lessThan.indexOf(i)>-1)return u<l;if(n.lessThanOrEqual.indexOf(i)>-1)return u<=l;if(n.equal.indexOf(i)>-1)if(s(u)&&s(l)){if(u.length!==l.length)return!1;for(let c=0;c<l.length;c++)if(u[c]!==l[c])return!1;return!0}else return u===l;else return n.notEqual.indexOf(i)>-1?!f(u,l,"$equal"):n.function.indexOf(i)>-1?l(u):n.regexp.indexOf(i)>-1?l.test(u):d(u)?d(l)?r(u[i],l):f(u[i],l,"$equal"):!1}}}}return r(e,t)}function ye(e,t){let n=e.width/e.height;return n<t.width/t.height?{width:t.height*n,height:t.height}:{width:t.width,height:t.width/n}}function Ae(e,t){let n=e.width/e.height;return n<t.width/t.height?{width:t.width,height:t.width/n}:{width:t.height*n,height:t.height}}function me(e){return new Promise(function(t){return setTimeout(t,e)})}function Oe(e){return e.reduce(function(t,n){return t.then(function(r){return n().then(function(o){return r.concat([o])})})},Promise.resolve([]))}0&&(module.exports={array,bezier,cases,choose,compare,contain,copy,cover,fromBase64,group,id,isArray,isBoolean,isBooleanArray,isEmpty,isEmptyArray,isEmptyObject,isEmptyString,isFunction,isNull,isNumber,isNumberArray,isNumeric,isObject,isObjectArray,isSameType,isString,isStringArray,max,mean,min,mode,parseCommand,parseQueryString,parseTemplate,promiseAll,query,random,shuffle,sort,splitFloat,splitInt,toBase64,toFullWidth,toHalfWidth,wait,xor});
